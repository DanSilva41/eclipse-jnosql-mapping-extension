= Couchbase-extension

image::https://jnosql.github.io/img/logos/couchbase.svg[Couchbase Project,align="center"]


Couchbase extension has implementations to use specific behavior that is beyond the API such as N1QL.


== Set dependency


[source,xml]
----

  <dependency>
     <groupId>org.eclipse.jnosql.artemis</groupId>
     <artifactId>couchbase-extension</artifactId>
     <version>${jnosql.version}</version>
  </dependency>
----

== Make Couchbase manager available to container

[source,java]
----

public class CouchbaseProducer {


    @Produces
    public CouchbaseDocumentCollectionManager getManager() {
        CouchbaseDocumentCollectionManager manager = ...;
        return manager;
    }

}


----


== CouchbaseRepository

CouchbaseRepository is an extension of Repository that allows using N1QL annotation that executes N1QL.


[source,java]
----
interface PersonRepository extends CouchbaseRepository<Person, String> {

@N1QL("select * from Person")
List<Person> findAll();

@N1QL("select * from Person where name = $name")
List<Person> findByName(@Param("name") String name);

}
----


== CouchbaseTemplate

CouchbaseTemplate is a specialization of Document Template that allows using N1QL both synchronous and asynchronous.

[source,java]
----

List<Person> people = template.n1qlQuery("select * from Person where name = $name", params);

----
